<ion-view view-title="الأقسام" cache-view="false">
    <ion-content dir="rtl">

        <div ng-show="classrooms_view.length>0" >

            <div class="item item-divider dark title hdr-sub-title" style="font-size: 13px;" >

                هناك {{students_count_global}} تلميذ وتلميذة موزعون على {{classrooms_view.length}} أقسام، بمعدل {{students_count_global/classrooms_view.length}} تلميذ في القسم.
            </div>
            <ul class="list">

                <li class="item hdr-list-item" ng-class="classroom.id%2==0 ?'hdr-item-odd':'hdr-item-even'" ng-repeat="classroom in classrooms_view" on-double-tap="startAttendanceCall(classroom)"
                    ui-serf="tab.classroom({classroom:classroom})">

                    <table class="classroom_item">
                        <tr>
                            <td width="75%">
                                <button class="button button-small button-clear button-positive" style="width: 100%;text-align: right;margin: 0px;margin:0px">
                                            
                                               <div>
                                                <div class="hdr-main-text">{{classroom.title}}</div>
                                                <div class="hdr-sub-text dark">{{classroom.level}}</div>
                                               </div>
                                               
                                </button>
                            </td>
                            <td width="20%" style="text-align: left;color: #999999">
                                <button class="button button-clear button-stable" ng-click="goToStudentsView(classroom)">{{classroom.students_count}} تلميذ <i class="ion-chevron-left"></i></button>
                            </td>
                        </tr>
                    </table>
                </li>

                <div style="font-size: 2vmax;" class="dark padding"> <i class="ion-information-circled"></i> لبدأ عملية النداء، قم بنقر القسم مرتين. </div>

            </ul>
        </div>


        <div ng-show="classrooms_view.length==0">
            <div style="text-align: center;display:table-cell;vertical-align: middle">
                <br/>
                <p dir="rtl" style="padding: 18px">
                    لا يتوفر التطبيق بعد على البيانات الضرورية.
                    <br/> لإنجاز ذلك، قم بوضع ملفات الإكسل الخاصة بالأقسام (المقدمة من طرف منظومة مسار) في الذاكرة الداخلية
                    للهاتف مجموعةً في ملف واحد ومسمى ب
                    <b>
                        "hodoor-classrooms"
                    </b> .
                    <br/> ثم بعد ذلك قم بالضغط على الزر "إستخراج البيانات".
                </p>

                <button class="button icon-right ion-plus button-assertive" style="width:60%;" ng-click="importClassrooms()">
                        إستخراج البيانات الخاصة
                    </button>

                <br/><br/>
                <p dir="rtl" style="padding: 18px;color:#999999">يمكن كذلك استعمال بيانات محاكاتية مدمجة مع التطبيق، هذه البيانات تمكن من أخذ فكرة عملية حول التطبيق قبل استخدام
                    معلومات الأقسام الخاصة بالأستاذ.
                </p>

                <button class="button icon-right ion-plus " style="width:60%" ng-click="importSimulatedClassrooms()">
                        استعمال بيانات محاكاتية
                    </button>

                <br/><br/><br/>
            </div>
        </div>
    </ion-content>
</ion-view>